@model Boekingssysteem.ViewModels.PersoonListViewModel;
@{
    ViewData["Title"] = "Screen";
}

<div class="MainWindow">
        <h2>Informatica</h2>
        <table class="width-100">
            @foreach (var p in Model.Personen)
            {
                @if (p.PersoonRichtingen != null)
                {
                    @foreach (var item in p.PersoonRichtingen)
                    {
                        @if (item.RichtingID == 1)
                        {
                            @foreach (var functie in p.PersoonFuncties)
                            {
                                @if (functie.FunctieID == 1)
                                {
                                    <tr>
                                        <td>
                                            @Html.DisplayFor(modelItem => p.Naam)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => p.Voornaam)
                                        </td>
                                        
                                        @if (p.Aanwezig == true)
                                        {
                                            <td class="KleurAanwezig">
                                                Aanwezig
                                            </td>
                                        }
                                        else
                                        {
                                            <td class="KleurAfwezig">
                                                Afwezig
                                            </td>
                                        }
                                    </tr>
                                }
                            }
                        }
                    }
                }
            }
        </table>
        <h2>Geneeskunde</h2>
        <table class="width-100">
            @foreach (var p in Model.Personen)
            {
                @if (p.PersoonRichtingen != null)
                {
                    @foreach (var item in p.PersoonRichtingen)
                    {
                        @if (item.RichtingID == 2)
                        {
                            @foreach (var functie in p.PersoonFuncties)
                            {
                                @if (functie.FunctieID == 1)
                                {
                                    <tr>
                                        <td>
                                            @Html.DisplayFor(modelItem => p.Naam)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => p.Voornaam)
                                        </td>
                                        
                                        @if (p.Aanwezig == true)
                                        {
                                            <td class="KleurAanwezig">
                                                Aanwezig
                                            </td>
                                        }
                                        else
                                        {
                                            <td class="KleurAfwezig">
                                                Afwezig
                                            </td>
                                        }
                                    </tr>
                                }
                            }
                        }
                    }
                }
            }
        </table>
        <h2>Andere functies</h2>
        <table class="width-100">
            @foreach (var p in Model.Personen)
            {
                if (p.PersoonFuncties != null)
                {
                    @foreach (var functie in p.PersoonFuncties)
                    {
                        @if (functie.FunctieID != 1)
                        {
                            <tr class="width-100">
                                <td>
                                    @Html.DisplayFor(modelItem => p.Naam)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => p.Voornaam)
                                </td>
                                
                                @if (p.Aanwezig == true)
                                {
                                    <td class="KleurAanwezig">
                                        Aanwezig
                                    </td>
                                }
                                else
                                {
                                    <td class="KleurAfwezig">
                                        Afwezig
                                    </td>
                                }
                            </tr>

                        }
                    }   
                }
            }
        </table>
</div>